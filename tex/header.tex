\documentclass[10pt,openany]{book}
\usepackage[twoside,driver=xetex,a4paper,includefoot,hmargin=25mm,bottom=15mm,top=10mm,headsep=0mm]{geometry}

\usepackage[cm-default]{fontspec} % or install lmodern and remove cm-default opt
\usepackage{xunicode} % some extra unicode support

%\usepackage[utf8]{inputenc}

\usepackage{fancyhdr} 
\usepackage{amsfonts}

\tolerance=1000
\emergencystretch=0.74cm
\usepackage{indentfirst} % I believe it is better for Russian
\usepackage[russian]{babel} % babel is not fully supported by XeLaTeX!
\usepackage{xecyr}
\usepackage{xltxtra}

\usepackage{cmap}

\usepackage{url}
\usepackage{colonequals}

\usepackage{graphicx}

\defaultfontfeatures{Scale=MatchLowercase, Mapping=tex-text}
\setromanfont{Charis SIL}
\setsansfont{Liberation Sans}
\setmonofont{DejaVu Sans Mono}

\newfontfamily\footfont{Ubuntu:style=Bold} 
\newfontfamily\headfont{Monaco:style=Bold} 

\usepackage[]{amsmath}
\usepackage{mathtext}
\usepackage[normalem]{ulem}
\usepackage{stmaryrd}

\definecolor{liteblue}{rgb}{0.12,0.28,0.75}

\definecolor{darkred}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\definecolor{darkblue}{rgb}{0,0,0.7}
%\usepackage{ccaption} 
%\captiondelim{. } % после точки стоит пробел !

\usepackage{shorttoc}   % short table of contents
\usepackage{diagrams}

\usepackage{longtable,citehack,enumerate}
%\usepackage{tocbibind}
\usepackage{hyperref}
\usepackage[all]{hypcap}

\definecolor{pfpcolorint}{rgb}{0,0.4,0}
\definecolor{pfpcolorext}{rgb}{0,0,0.6}

\hypersetup{colorlinks,
	linkcolor=pfpcolorint,
	citecolor=pfpcolorint,
	filecolor=pfpcolorext,
	urlcolor=pfpcolorext,
	bookmarksopen,bookmarksopenlevel=0,
	pdffitwindow,
	pdftitle={haskell-notes},
	% pdfsubject={},
	% pdfkeywords={}
}
%\special{pdf:tounicode}

%\usepackage[dvipdfm]{accsupp} 

\usepackage{verbatim}
\usepackage{makeidx}

\parskip 2pt plus 1pt minus 2pt

\renewcommand{\floatpagefraction}{.9}
\renewcommand\topfraction{.9}
\renewcommand\bottomfraction{.9}
\renewcommand\textfraction{.1}  
\renewcommand{\dblfloatpagefraction}{\floatpagefraction}
\setcounter{totalnumber}{50}
\setcounter{topnumber}{50}
\setcounter{bottomnumber}{50}
\setlength{\floatsep}{8pt plus 2pt minus 2pt} 
\setlength{\textfloatsep}{8pt plus 2pt minus 2pt} 
\setlength{\intextsep}{12pt plus 2pt minus 2pt}



\usepackage{fancyvrb}

\usepackage{minted}
% minted color schemes:
%
%	trac - sea
%	fruity - woods
%   pastie - sky
%   bw     - black and white  
\usemintedstyle{woods}

\newminted[code]{haskell}{fontsize=\small}

\clubpenalty=1000
\widowpenalty=1000
\flushbottom
