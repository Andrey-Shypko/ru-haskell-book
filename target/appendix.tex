\addchapter{Приложения}

\newpage \addsection{Начало работы с Haskell}

\subsubsection{Компилятор}

Для программирования в Haskell нам понадобится компилятор. Мы будем
пользоваться наиболее развитым компилятором\textasciitilde{}-- GHC.
Лучше всего устанавливать его вместе с Haskell Platform:

\begin{quote}
\url{http://hackage.haskell.org/platform/}
\end{quote}

Haskell Platform содержит стабильную версию компилятора и много хороших,
проверенных временем библиотек. Если по каким-то причинам установить
Haskell Platform не удалось. Не отчаивайтесь, можно загрузить компилятор
с сайта GHC:

\begin{quote}
\url{http://www.haskell.org/ghc/}
\end{quote}

И далее установить все необходимые библиотеки с Hackage с помощью
\In{cabal} (устанавливается отдельно с
\url{http://www.haskell.org/cabal/}).

\subsubsection{Среда разработки}

Для Haskell существует очень мало сред разработки. Обычно на Haskell
программируют в каких-нибудь продвинутых текстовых редакторах (vim,
Emacs, scite, kate, notepad++). Отметим всё же среду разработки Leksah
(\url{http://leksah.org/}), она написана на Haskell и её можно
установить с Hackage.

Если вы не хотите разбираться с новым текстовым редактором или средой
разработки, и вам нужна лишь подсветка синтаксиса можно воспользоваться
gedit. Пишем код в gedit, сохраняем, переключаемся на ghci, пробуем,
обновляем, пробуем, при случае компилируем или собираем в пакет. Всё это
можно делать и в gedit.

\newpage \addsection{Литература}

О Haskell написано много интересных книг и статей, но все они на
английском. На русском языке выходит электронный журнал ``Практика
функционального программирования'' (). Пока в нём доминируют два языка
-- это Erlang и Haskell.

Я бы хотел рассказать о тех книгах и статьях, которые мне помогли. Все
они приняли активное участие в создании этой книги.

\addsubsection{Книги}

\begin{itemize}
\item
  Miran Lipova\u{c}a. Learn You A Haskell For A Great Good.

  Очень хорошая книга для начинающих, Haskell в картинках. Весёлая и
  познавательная книга\footnote{Обновление: книга переведена на русский,
    вышла в издательстве ДМК Пресс.}

  \begin{quote}
  \url{http://learnyouahaskell.com/}
  \end{quote}
\item
  Hal Daume III. Yet Another Haskell Tutorial.

  Ещё одна очень хорошая книга для начинающих. Без картинок, но всё по
  делу.
\item
  Paul Hudak. Haskell School of Expression.

  Книга, которая иллюстрирует основные принципы функционального
  программирования на примере Haskell. Главные достоинства -- много
  текста об общих принципах и интересные приложения, картинки, музыка,
  анимация, управление роботами и всё это на Haskell.
\item
  Paul Hudak. Haskell School of Music.

  Пол Хьюдак увлекается не только Haskell, но и музыкой. Он написал
  книгу, которая целиком посвящена описанию музыки в Haskell:

  \begin{quote}
  \url{http://www.cs.yale.edu/homes/hudak/Papers/HSoM.pdf}
  \end{quote}

  \begin{quote}
  \url{http://haskell.cs.yale.edu/}
  \end{quote}
\item
  Bryan O'Sullivan, Don Stewart, John Goerzen. Real World Haskell.

  Очень полезная книга в помощь тем, кто хочет научиться писать
  настоящие, серьёзные программы. Авторы подробно изучают вопросы,
  связанные с применением Haskell на практике.

  \begin{quote}
  \url{http://book.realworldhaskell.org/}
  \end{quote}
\item
  Готовится к выходу к книга Саймона Марлоу о параллельных вычислениях в
  Haskell. Обещает быть очень интересной, уже известно, что книга будет
  доступна в интернете.
\end{itemize}

\addsubsection{Тематический сборник}

\subsubsection{Основы}

\begin{itemize}
\item
  John Hughes. Why Functional Programming Matters.
\item
  Paul Hudak, John Hughes, Simon Peyton Jones, Philip Wadler. A History
  of Haskell: Being Lazy With Class.
\item
  Mark P. Jones. Functional Programming with Overloading and
  Higher-Order Polymorphism.
\item
  Евгений Кирпичев. Элементы функциональных языков программирования,
  журнал Практика функционального программирования.
\item
  Simon Thompson. Programming It in Haskell.
\item
  Justin Bailey. Haskell Cheat Sheet.
\end{itemize}

\subsubsection{Разработка программ сверху-вниз}

\begin{itemize}
\item
  Дмитрий Астапов. Давно не брал я в руки шашек, журнал Практика
  функционального программирования.
\end{itemize}

\subsubsection{Функторы и монады}

\begin{itemize}
\item
  Conor McBride, Ross Paterson. Applicative programming with effects.
  Статья об аппликативных функторах.
\item
  Philip Wadler. The Essence of Functional Programming.

  Статья, в которой впервые зашла речь о применении монад в Haskell.
\item
  Tarmo Uustalu, Varmo Vene. The Essence of Dataflow Programming.

  Статья о комонадах, но есть много интересного и о монадах.
\item
  Bulat Ziganshin. Haskell I/O inside: Down the Rabbit's Hole. Статья на
  HaskellWiki.
\item
  John Launchbury, Simon Peyton Jones. Lazy functional state threads.

  Статья о типе \In{ST}.
\item
  Simon Peyton Jones. Tackling the Awkward Squad: monadic input/output,
  concurrency, exceptions, and foreign-language calls in Haskell.
\end{itemize}

\subsubsection{Ленивые вычисления}

\begin{itemize}
\item
  Douglas McIlroy. Power Series, Power Serious.
\item
  Дмитрий Астапов. Реурсия+мемоизация=динамическое программирование,
  журнал Практика функционального программирования.
\item
  Сергей Зефиров. Лень бояться, журнал Практика функционального
  программирования.
\item
  Jerzy Karczmarczuk. Specific ``scientific'' data structures, and their
  processing.
\end{itemize}

\subsubsection{Структурная рекурсия}

\begin{itemize}
\item
  Graham Hutton. A tutorial on the universality and expressiveness of
  fold
\item
  Jeremy Gibbons. Origami Programming.
\item
  Jeremy Gibbons, Geraint Jones. The Under-Appreciated Unfold.
\end{itemize}

\subsubsection{Лямбда-исчисление и функциональное программирование}

\begin{itemize}
\item
  Шалак В.И. Шейнфинкель и комбинаторная логика.
\item
  Paul Hudak: Conception, Evolution, and Application of Functional
  Programming Languages.

  Длинная статья о развитии функциональных языков. Там есть главы о
  лямбда-исчислении.
\item
  Бенджамин Пирс. Типы в языках программирования.

  Большая книга о теории типов.

  \begin{quote}
  \url{http://newstar.rinet.ru/~goga/tapl/}
  \end{quote}
\item
  Денис Москвин. Системы типизации лямбда-исчисления.

  Курс видео-лекций.

  \begin{quote}
  \url{http://www.lektorium.tv/course/?id=22797}
  \end{quote}
\item
  John Harrison. Introduction to Functional Programming.

  Курс лекций по функциональному программированию, который читался в
  Университете Кэмбридж.
\item
  А. Филд, П. Харрисон, Функциональное программирование, Москва ``Мир'',
  1993.

  Большая книга для читателей, всерьёз заинтересовавшихся функциональным
  программированием. Прочитав её, вы сможете не только пользоваться
  ФП-языками но и написать такой язык самостоятельно.
\item
  Rinus Plasmeijer and Marko van Eekelen. Functional Programming and
  Parallel Graph Rewriting.

  В этой книге исследуются вопросы распараллеливания функциональных
  программ, построение компиляторов для функциональных языков.
\end{itemize}

\subsubsection{Теория категорий}

Две очень хорошие книги для начинающих:

\begin{itemize}
\item
  Maarten M. Fokkinga. Gentle Introduction to Category Theory.

  \begin{quote}
  \end{quote}
\end{itemize}

Также где-то в сети есть и перевод на русский.

\begin{itemize}
\item
  Steve Awodey. Category Theory.
\item
  Eugenia Cheng, Simon Willerton aka TheCatsters. Курс видео-лекций на
  youtube.

  \begin{quote}
  \url{http://www.scss.tcd.ie/Edsko.de.Vries/ct/catsters/linear.php}
  \end{quote}

  \begin{quote}
  \url{http://www.youtube.com/user/TheCatsters}
  \end{quote}
\end{itemize}

Статьи по категориальным типам:

\begin{itemize}
\item
  Varmo Vene. Categorical Programming with Inductive and Coinductive
  Types. Phd-диссертация.
\item
  Erik Meijer, Graham Hutton. Bananas in Space: Extending Fold and
  Unfold to Exponential Types.
\item
  Martin Erwig. Categorical Programming with Abstract Data Types.
\item
  Martin Erwig. Metamorphic Programming: Structured Recursion for
  Abstract Data Types.
\end{itemize}

\subsubsection{Практика}

\begin{itemize}
\item
  Conal Elliott. Denotational design with type class morphisms.
\item
  Johan Tibell. High Performance Haskell. Слайды с выступления.
\item
  Johan Tibel. Faster persistent data structures through hashing. Слайды
  с выступления.
\item
  Simon Marlow. Parallel and Concurrent Programming in Haskell.
\item
  Edward Z. Yang. Блог о Haskell в картинках. Много полезной информации
  о лени и устройстве ghc. \url{http://blog.ezyang.com/about/}
\item
  Oleg Kiselyov. Блог в том числе и о Haskell. Много решений интересных
  и нетривиальных задач. \url{http://okmij.org/ftp/}
\end{itemize}

\subsubsection{Как работает GHC}

\begin{itemize}
\item
  Документация GHC:

  \begin{quote}
  \url{http://hackage.haskell.org/trac/ghc/wiki/Commentary}
  \end{quote}
\item
  Don Stewart. Multi-paradigm Just-In-Time Compilation. BS Thesis, 2002.

  Автор пробует компилировать Haskell-код в Java-код. При этом очень
  доступно объясняеются внутренности STG.
\item
  Simon Marlow, Simon Peyton Jones. The Glasgow Haskell Compiler. The
  Architecture of Open Source Application, Volume 2, 2012.
\item
  Simon Marlow, Simon Peyton Jones. Making a Fast Curry: Push/Enter vs.
  Eval/Apply for Higher-order Languages. ICFP'04.
\item
  Simon Peyton Jones. Implementing lazy functional languages on stock
  hardware: the Spineless Tagless G-machine.
\item
  Simon Marlow, Tim Harris, Roshan P. James, Simon Peyton Jones.
  Parallel Generational-Copying Garbage Collection with a
  Block-Structured Heap. ISMM'08.
\item
  Simon Peyton Jones, Andre Santos. A transformation-based optimizer for
  Haskell. Science of computer programming, 1998.
\item
  Simon Peyton Jones, John Launchbury. Unboxed values as first citizens
  in a non-strict functional programming language. 1991.
\item
  Simon Marlow, Simon Peyton Jones. Secrets of Glasgow Haskell Compiler
  inliner. 1999

  Статья о тонкостях реализации прагмы \In{INLINE}.
\item
  Simon Peyton Jones, Andrew Tolmach, Tony Hoare. Playing by the Rules,
  ICFP 2001

  Статья о прагме \In{RULES}.
\end{itemize}

\subsubsection{Встроенные проблемно-ориентированные языки (EDSL)}

\begin{itemize}
\item
  Oleg Kiselyov. Implementing Explicit and Finding Implicit Sharing in
  EDSLs.

  Чистое решение проблемы поиска дублирующих подвыражений.
\item
  Andy Gill. Type-Safe Observable Sharing in Haskell.

  Решение проблемы поиска дублирующих подвыражений с помощью расширения
  GHC, позволяющего проводить сравнение термов по указателям.
\item
  Conal Elliott, Sigbjorn Finne, Oege de Moor. Compiling Embedded
  Languages.

  Отчёт о построении EDSL для анимации.
\item
  Bruno C.d.S. Oliveira, Andres Loh. Abstract Syntax Graphs for Domain
  Specific Languages.

  Применение графов для кодирования дублирующих подвыражений в EDSL.
\item
  Jacques Carette, Oleg Kiselyov and Chung-chieh Shan. Finally Tagless,
  Partially Evaluated. Tagless Staged Interpreters for Simpler Typed
  Languages.

  Построение расширяемого синтаксиса с помощью классов типов.
\item
  Wouter Sweistra. Data types a la carte.

  Построение расширяемых типов. В этой статье и выше под словом
  ``расширяемый'' понимается возможность добавления к типу новых
  конструкторов без перекомпиляции старых.
\end{itemize}

\addsubsection{И все-все-все}

Если вдруг у вас возникли вопросы по Haskell, и рядом с вами не
оказалось того, кто мог бы на них ответить, и в книгах нет ответа, вы
можете спросить у сообщества Haskell, в haskell-cafe, там вам быстро и с
радостью ответят:

\begin{quote}
\url{http://www.haskell.org/mailman/listinfo/haskell-cafe}
\end{quote}

Сообщество Haskell славится радушием и терпимостью к начинающим. Там
много информации о выпусках новых библиотек, конференциях, обучающих
программах и просто разговоры о том-о-сём.

Также стоит отметить журнал \emph{Monad.Reader}:

\begin{quote}
\url{http://themonadreader.wordpress.com/}
\end{quote}

\newpage \addsection{Обзор Hackage}

Число пакетов, загруженных на Hackage, уже перевалило за 2000. В Hackage
легко заблудиться. Очень часто не разберёшься какой из пакетов выбрать.
К тому же многие из них заброшены или просто не подходят для
использования в серьёзных приложениях. Но среди них есть и очень хорошие
пакеты. Некоторые из них включены в \In{Haskell Platform}. Ниже приведён
тематический обзор наиболее популярных пакетов.

\addsubsection{Стандартные библиотеки}

Все приведённые в этом подразделе библиотеки включены в
\In{Haskell Platform}.

Полный список библиотек для \In{Haskell Platform} можно посмотреть на
сайте \url{http://lambda.haskell.org/hp-tmp/docs}.

\begin{itemize}
\item
  \textbf{Начало-всех-начал}: \In{base}

  Библиотека включает в себя все стандартные определения, например
  модули \In{Prelude}, \In{Data.List}, \In{Control.Monad} и многие
  другие.
\item
  \textbf{Стандартные монады}: \In{transformers}, \In{mtl}

  Включает монады \In{State}, \In{Writer}, \In{Reader} и другие.
\item
  \textbf{Контейнеры}: \In{containers}

  Ассоциативные массивы, множества, последовательности, деревья.
\item
  \textbf{Массивы}: \In{array}
\item
  \textbf{Графы}: \In{fgl}
\item
  \textbf{Архиваторы}: \In{zlib}
\item
  \textbf{Вычисление по значению}: \In{deepseq}

  Обычная функция \In{seq}, позволяет привести данное выражение к слабой
  заголовочной нормальной форме, если нам всё же необходимо вычислить
  значение полностью, мы можем воспользоваться функцией \In{deepseq} из
  одноимённой библиотеки.
\item
  \textbf{Параллельное программирование}: \In{stm} и \In{parallel}
\item
  \textbf{Временная арифметика, календарь}: \In{time}
\item
  \textbf{Парсинг}: \In{parsec}
\item
  \textbf{Регулярные выражения}: \In{regex-base}, \In{regex-posix}
\item
  \textbf{Построение структурированного текста}: \In{pretty}
\item
  \textbf{Тестирование программ}: \In{HUnit}, \In{QuickCheck}
\item
  \textbf{Управление файловой системой}: \In{directory}
\item
  \textbf{Работа с путями к файлам/директориям}: \In{filepath}
\item
  \textbf{Сетевые библиотеки}: \In{network}, \In{HTTP}, \In{cgi}.
\item
  \textbf{3д Графика}: \In{OpenGL}, \In{GLUT}.
\item
  \textbf{Монадные трансформеры}: \In{transformers}

  Мы не коснулись этой темы, но вот краткое пояснение: монадные
  трансформеры позволяют комбинировать несколько монад. Например, если
  нам нужно использовать чтение-запись в файл совместно с изменяемым
  состоянием.
\end{itemize}

\addsubsection{Эффективные типы данных}

\begin{itemize}
\item
  \textbf{Списки}: \In{dlist} -- эффективное объединение списков.

  Если вы часто пользуетесь операцией \In{++}, то необходимо заботиться
  о том, чтобы скобки всегда группировались вправо. Как в
  \In{a++(b++(c++d))}. Иначе время объединения из линейного превратится
  в квадратичное. Библиотека \In{dlist} предоставляет специальный тип
  списков, для которых не важно как группируются скобки при объединении.
  Время объединения всегда будет линейным.
\item
  \textbf{Строки}: \In{bytestring}

  Если ваша программа загружена обработкой строк, и работает слишком
  медленно, рассмотрите вариант перехода со стандартных строк на тип
  \In{ByteString}, это может увеличить быстродействие на порядок.
\item
  \textbf{Текст}: \In{text} или \In{utf8-string}

  Работа с текстом в формате Unicode. Часто проблемы возникают при
  необходимости обработки русского текста закодированного в Unicode. Для
  решения этой проблемы можно воспользоваться одной из этих библиотек.
\item
  \textbf{Двоичные данные}: \In{binary} или \In{cereal} --
  Сериализация/десериализация данных.
\item
  \textbf{Случайные числа}: \In{mersenne-random-pure64}

  Эффективный генератор случайных чисел.
\item
  \textbf{Ввод-вывод}: \In{iteratee}

  Эффективная реализация ввода-вывода. Если вам нужно читать или писать
  данные из большого числа файлов, эта библиотека может существенно
  помочь.
\item
  \textbf{Контейнеры}: \In{unordered-containers}

  Альтернатива стандартной библиотеке \In{containers}. Эффективные типы
  \In{Map} и \In{Set}.
\item
  \textbf{Последовательности}: \In{fingertree}, \In{seq}

  Используются для работы с очередями различного типа.
\item
  \textbf{Массивы}: \In{vector}

  Эффективный тип для представления массивов. Замена стандартному типу
  \In{Data.Array}.
\item
  Самые эффективные изменяемые \textbf{хэш-таблицы}: \In{hashtables}
\item
  \textbf{Матрицы}: \In{hmatrix}, \In{repa}
\end{itemize}

\addsubsection{Разработка программ}

\begin{itemize}
\item
  Тестирование, проверка инвариантов: \In{QuickCheck}
\item
  Оценка быстродействия: \In{criterion}
\item
  Просмотр Core в человеческом виде: \In{ghc-core}
\item
  Настройка сборки мусора: \In{ghc-gc-tune}
\item
  Трассировка программ: \In{hat}
\end{itemize}

\addsubsection{И все-все-все}

\begin{itemize}
\item
  \textbf{Парсинг}: \In{parsec} или \In{attoparsec}
\item
  \textbf{Языки разметки}: \In{pandoc}, \In{xhtml}, \In{tagsoup},
  \In{blaze-html}, \In{html}
\item
  \textbf{XML}: \In{xml}, \In{HaXml}
\item
  \textbf{JSON}: \In{json}, \In{aeson}
\item
  \textbf{Web}: \In{happstack}, \In{snap}, \In{yesod}, \In{hakyll}
\item
  \textbf{Сетевые библиотеки}: \In{network}, \In{HTTP}, \In{cgi},
  \In{curl}
\item
  \textbf{Графика}: \In{diagrams}, \In{gnuplot}, \In{SDL}
\item
  \textbf{3д графика}: \In{OpenGL}, \In{GLFW}, \In{GLUT}
\item
  \textbf{Базы данных}: \In{HDBC}
\item
  \textbf{Встраиваемые приложения реального времени с жёсткими
  ограничениями}: \In{atom}
\item
  \textbf{GUI}: \In{wxHaskell}, \In{gtk2hs}
\item
  \textbf{Оценка производительности программ}: \In{criterion}
\item
  \textbf{Статистика}: \In{statistics}
\item
  \textbf{Парсинг и генерация кода Haskell}: haskell-src-exts
\item
  \textbf{FRP}: \In{reactive}, \In{reactive-banana}, \In{yampa}
\item
  \textbf{Линейная алгебра}: \In{vector-space}, \In{hmatrix}
\end{itemize}

\newpage \addsection{Места}

Где культивируется Haskell?

\addsubsection{Университеты}

Посмотрим на университеты, в которых Haskell преподают, развивают и
применяют:

\begin{itemize}
\item
  Британия: Эдинбург, Ноттингем, Оксфорд (лаборатория информатики),
  Глазго.
\item
  Америка: Йельский, Коннектикут, Техас, Оклахома, Портлэнд, Канзас
\item
  Нидерланды: Утрехт
\item
  Швеция: Технологический Чалмерса, Гёттинген.
\item
  Австралия: Новый Южный Уэльс, Западной Австралии
\item
  и другие, полный список на
  \url{http://www.haskell.org/haskellwiki/Haskell_in_education}.
\end{itemize}

\addsubsection{Компании}

\begin{itemize}
\item
  Microsoft Research -- разрабатывают GHC.
\item
  Galios -- ведут исследования и решают практические задачи на
  ФП-языках, особенно на Haskell.
\item
  Well-Typed -- решают практические задачи, консультируют и всё на
  Haskell. Также занимаются организацией Haskell-слётов, поддержкой
  стандартных библиотек.
\item
  и другие, полный список на
  \url{http://www.haskell.org/haskellwiki/Haskell_in_industry}
\end{itemize}
